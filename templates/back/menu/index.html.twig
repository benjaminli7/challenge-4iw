{% extends 'base_back.html.twig' %}

{% block title %}MenuController{% endblock %}

{% block body %}

    <a href="{{ path("admin_category_new") }}">Ajouter une categorie</a>
    <a href="{{ path("admin_article_new")}}">Ajouter un article</a>


    <h1 class="title-back">Menu</h1>

    {% for category in categories %}
    <div class="mb-5">
        <h2 class="text-xl font-bold mb-3">
        {{ category.name }}
        <a href="{{ path('admin_category_edit', {'id': category.id}) }}">
            <i class="fa-solid fa-pen-to-square"></i>
        </a>
        </h2>

        <ul>
            {% for article in category.articles %}
                <li>
                <a href="{{ path('admin_article_edit', {'id': article.id}) }}">
                {{ article.name }}
                {% if article.getImageName() %}
                    <img src="{{ asset('uploads/articles/' ~ article.getImageName()) }}" alt="{{ article.name }} image" style="width: 150px; height: 150px">
                {% else %}
                    <img src="{{ asset('images/placeholder150.png') }}" alt="{{ article.name }} image" style="width: 150px; height: 150px">
                {% endif %}
                </a>
                </li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}




{% endblock %}
